<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requirement Analyzer</title>
    <style>
        :root {
            --primary-color: #0052CC;
            --sidebar-bg: #F4F5F7;
            --content-bg: #FFFFFF;
            --text-color: #172B4D;
            --border-color: #DFE1E6;
            --hover-bg: #EBECF0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: var(--text-color);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            padding: 20px 10px;
        }

        .app-title {
            font-size: 16px;
            font-weight: 600;
            padding: 0 10px 20px 10px;
            color: #42526E;
            display: flex;
            align-items: center;
        }

        .app-title span {
            margin-left: 8px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            padding: 10px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
            color: #42526E;
            display: flex;
            align-items: center;
            margin-bottom: 2px;
        }

        .nav-item:hover {
            background-color: var(--hover-bg);
        }

        .nav-item.active {
            background-color: #E6EFFC;
            color: var(--primary-color);
            font-weight: 500;
        }

        .nav-icon {
            margin-right: 10px;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            background-color: var(--content-bg);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .page-header {
            padding: 20px 40px;
            border-bottom: 1px solid var(--border-color);
        }

        .breadcrumbs {
            font-size: 12px;
            color: #6B778C;
            margin-bottom: 8px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 500;
            color: #172B4D;
        }

        .page-body {
            padding: 40px;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        /* Views */
        .view-section {
            display: none;
        }

        .view-section.active {
            display: block;
        }

        /* Forms & Inputs */
        .form-group {
            margin-bottom: 20px;
        }

        .label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: #5E6C84;
            margin-bottom: 4px;
        }

        .input-field,
        .textarea-field,
        .select-field {
            width: 100%;
            padding: 8px 10px;
            border: 2px solid #DFE1E6;
            border-radius: 3px;
            font-size: 14px;
            background-color: #FAFBFC;
            transition: background-color 0.2s, border-color 0.2s;
        }

        .input-field:hover,
        .textarea-field:hover,
        .select-field:hover {
            background-color: #EBECF0;
        }

        .input-field:focus,
        .textarea-field:focus,
        .select-field:focus {
            background-color: #FFFFFF;
            border-color: var(--primary-color);
            outline: none;
        }

        .textarea-field {
            min-height: 150px;
            resize: vertical;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }

        /* Buttons */
        .btn {
            padding: 8px 16px;
            border-radius: 3px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: background-color 0.1s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #0065FF;
        }

        .btn-primary:disabled {
            background-color: rgba(9, 30, 66, 0.04);
            color: #A5ADBA;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: rgba(9, 30, 66, 0.04);
            color: #42526E;
        }

        .btn-secondary:hover {
            background-color: rgba(9, 30, 66, 0.08);
        }

        /* Panels / Macros */
        .panel {
            border-radius: 3px;
            padding: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: flex-start;
        }

        .panel-info {
            background-color: #DEEBFF;
            color: #0747A6;
        }

        .panel-success {
            background-color: #E3FCEF;
            color: #006644;
        }

        .panel-warning {
            background-color: #FFFAE6;
            color: #BF2600;
            /* Actually red for warning text usually, or dark orange */
        }

        .panel-icon {
            margin-right: 12px;
            font-size: 16px;
        }

        /* Grid */
        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        /* Results */
        .result-card {
            border: 1px solid var(--border-color);
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .result-header {
            background-color: #F4F5F7;
            padding: 10px 16px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-body {
            padding: 20px;
            background-color: white;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .badge-success {
            background-color: #E3FCEF;
            color: #006644;
        }

        /* Loading */
        .loading-spinner {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 3px solid var(--primary-color);
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .hidden {
            display: none !important;
        }

        /* Results Layout */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .score-panel {
            border: 2px solid;
            border-radius: 3px;
            padding: 20px;
        }

        .score-panel.original {
            border-color: #0052CC;
        }

        .score-panel.improved {
            border-color: #BF2600;
        }

        .score-total {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .score-number {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .score-percent {
            font-size: 14px;
            color: #6B778C;
        }

        .score-delta {
            font-size: 16px;
            font-weight: 600;
            color: #BF2600;
            margin-top: 8px;
        }

        .category-score {
            margin-bottom: 16px;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            font-size: 13px;
        }

        .category-name {
            font-weight: 600;
            color: #172B4D;
        }

        .category-value {
            color: #6B778C;
        }

        .progress-bar-bg {
            width: 100%;
            height: 8px;
            background-color: #EBECF0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: #0052CC;
            transition: width 0.3s ease;
        }

        .progress-bar-fill.improved {
            background-color: #36B37E;
        }

        /* Detailed Score Table */
        .score-table-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 3px;
        }

        .score-table {
            width: 100%;
            border-collapse: collapse;
        }

        .score-table th {
            background-color: #F4F5F7;
            padding: 10px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: #5E6C84;
            position: sticky;
            top: 0;
            border-bottom: 2px solid var(--border-color);
        }

        .score-table td {
            padding: 10px;
            border-bottom: 1px solid #EBECF0;
            font-size: 13px;
        }

        .score-table tr:hover {
            background-color: #F4F5F7;
        }

        .score-change {
            font-weight: 600;
            color: #36B37E;
        }

        .score-change.negative {
            color: #BF2600;
        }

        /* Requirement Cards */
        .req-card {
            border: 1px solid var(--border-color);
            border-radius: 3px;
            padding: 16px;
            margin-bottom: 12px;
            background-color: #FAFBFC;
        }

        .req-card-header {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .req-number-badge {
            background-color: #0052CC;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .req-pattern-badge {
            background-color: #DFE1E6;
            color: #42526E;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .req-text {
            color: #172B4D;
            line-height: 1.6;
            font-size: 14px;
        }

        /* Improvements List */
        .improvement-item {
            margin-bottom: 16px;
            padding-left: 24px;
            position: relative;
        }

        .improvement-item::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #36B37E;
            font-weight: 700;
            font-size: 16px;
        }

        .improvement-title {
            font-weight: 600;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .input-mode-tab:hover {
            color: #172B4D;
            background: #F4F5F7;
        }

        .input-mode-tab.active {
            color: #0052CC;
            border-bottom-color: #0052CC;
        }

        .input-mode-content {
            display: block;
        }

        .input-mode-content.hidden {
            display: none;
        }

        /* 2-Level Tab Guide Styles */
        .content-main-wrapper {
            display: flex;
            gap: 20px;
            position: relative;
        }

        .input-area {
            flex: 1;
        }

        .guide-container {
            width: 400px;
            position: sticky;
            top: 20px;
            height: fit-content;
            max-height: calc(100vh - 160px);
            display: flex;
            flex-direction: column;
        }

        /* Primary Tabs */
        .guide-tabs-primary {
            display: flex;
            gap: 4px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 4px 4px 0 0;
            padding: 8px 8px 0 8px;
            border-bottom: 2px solid var(--border-color);
        }

        .guide-tab-primary {
            flex: 1;
            padding: 10px 12px;
            text-align: center;
            cursor: pointer;
            border-radius: 4px 4px 0 0;
            font-size: 13px;
            font-weight: 500;
            color: #42526E;
            background: #F4F5F7;
            transition: all 0.2s;
            border: 1px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .guide-tab-primary:hover {
            background: #EBECF0;
        }

        .guide-tab-primary.active {
            background: white;
            color: var(--primary-color);
            border: 1px solid var(--border-color);
            border-bottom: 2px solid white;
            margin-bottom: -2px;
            font-weight: 600;
        }

        .guide-tab-icon {
            font-size: 18px;
        }

        .guide-tab-label {
            font-size: 11px;
            white-space: nowrap;
        }

        /* Guide Content Wrapper */
        .guide-content-wrapper {
            background: white;
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 4px 4px;
            overflow: hidden;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .guide-primary-content {
            display: none;
            flex-direction: column;
            height: 100%;
        }

        .guide-primary-content.active {
            display: flex;
        }

        /* Secondary Tabs */
        .guide-tabs-secondary {
            display: flex;
            gap: 4px;
            background: #F4F5F7;
            padding: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .guide-tab-secondary {
            flex: 1;
            padding: 8px 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
            color: #42526E;
            background: white;
            transition: all 0.2s;
            border: 1px solid var(--border-color);
        }

        .guide-tab-secondary:hover {
            background: #EBECF0;
            border-color: #0052CC;
        }

        .guide-tab-secondary.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Secondary Tab Content */
        .guide-secondary-content {
            display: none;
            padding: 20px;
            overflow-y: auto;
            max-height: calc(100vh - 400px);
        }

        .guide-secondary-content.active {
            display: block;
        }

        /* Content Sections */
        .guide-section {
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .guide-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .guide-section-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: #E6EFFC;
            border-radius: 4px;
            border-left: 3px solid var(--primary-color);
        }

        .guide-section-content {
            font-size: 13px;
            line-height: 1.6;
            color: #42526E;
        }
    </style>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="app-title">
            <span>ğŸ”§ Requirement Analyzer</span>
        </div>
        <ul class="nav-menu">
            <li class="nav-item active" onclick="switchView('improvement')">
                <span class="nav-icon">âœ¨</span>
                Improvement
            </li>
            <li class="nav-item" onclick="switchView('history')">
                <span class="nav-icon">ğŸ•’</span>
                History
            </li>
        </ul>
        <ul class="nav-menu" style="margin-top: auto;">
            <li class="nav-item" onclick="switchView('settings')">
                <span class="nav-icon">âš™ï¸</span>
                Settings
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">

        <!-- View: Improvement -->
        <div id="view-improvement" class="view-section active">
            <div class="page-header">
                <div class="breadcrumbs">Pages / Requirements</div>
                <h1 class="page-title">Improve Requirement</h1>
            </div>

            <div class="page-body">
                <!-- Configuration Warning (Modified) -->
                <div id="configWarning" class="hidden"
                    style="background-color: #FFF0B3; border: 1px solid #FFC400; color: #172B4D; padding: 16px; border-radius: 4px; margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <strong>ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤</strong><br>
                        <span style="font-size: 13px;">ì™¼ìª½ í•˜ë‹¨ì˜ Settings ë©”ë‰´ì—ì„œ API í‚¤ì™€ í”„ë¡œì íŠ¸ ì„¤ì •ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.</span>
                    </div>
                    <button class="btn btn-secondary" onclick="switchView('settings')"
                        style="background: white; border: 1px solid #DFE1E6;">ì„¤ì • ì—´ê¸°</button>
                </div>

                <div class="content-main-wrapper">
                    <!-- Left: Input Area -->
                    <div class="input-area">
                        <!-- Input Mode Tabs -->
                        <div class="form-group">
                            <div
                                style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #DFE1E6;">
                                <button id="tabDirectInput" class="input-mode-tab active"
                                    onclick="switchInputMode('direct')">
                                    Direct Input
                                </button>
                                <button id="tabPatternInput" class="input-mode-tab"
                                    onclick="switchInputMode('pattern')">
                                    Pattern Input
                                </button>
                            </div>
                        </div>


                        <!-- Direct Input Mode -->
                        <div id="directInputMode" class="input-mode-content">
                            <div class="form-group">
                                <label class="label">Original Requirement Text</label>
                                <textarea class="textarea-field" id="inputRequirementDirect"
                                    placeholder="Enter original requirement text here..."></textarea>
                            </div>
                        </div>

                        <!-- Pattern Input Mode -->
                        <div id="patternInputMode" class="input-mode-content hidden">
                            <!-- Project Context Fields (Auto-loaded from Settings) -->
                            <div class="form-group"
                                style="background: #F4F5F7; padding: 16px; border-radius: 4px; margin-bottom: 20px;">
                                <h4 style="font-size: 14px; margin-bottom: 12px; color: #172B4D;">í”„ë¡œì íŠ¸ ì„¤ì • (ì´ë²ˆ ìš”êµ¬ì‚¬í•­ì—ë§Œ
                                    ì ìš©)</h4>
                                <div class="form-group">
                                    <label class="label">ë‹´ë‹¹ì (ë‹´ë‹¹ë¶€ì„œ)</label>
                                    <input type="text" class="input-field" id="patternDeveloper"
                                        placeholder="ë¯¸ ì…ë ¥ì‹œ Settingsì—ì„œ ìë™ ë¡œë“œ">
                                </div>
                                <div class="form-group">
                                    <label class="label">System</label>
                                    <input type="text" class="input-field" id="patternSystem"
                                        placeholder="ë¯¸ ì…ë ¥ì‹œ Settingsì—ì„œ ìë™ ë¡œë“œ">
                                </div>
                                <div class="form-group">
                                    <label class="label">Client</label>
                                    <input type="text" class="input-field" id="patternClient"
                                        placeholder="ë¯¸ ì…ë ¥ì‹œ Settingsì—ì„œ ìë™ ë¡œë“œ">
                                </div>
                            </div>

                            <!-- Original Text -->
                            <div class="form-group">
                                <label class="label">Original Requirement Text</label>
                                <textarea class="textarea-field" id="inputRequirementPattern"
                                    placeholder="Enter original requirement text here..."></textarea>
                            </div>

                            <!-- Pattern Selection -->
                            <div class="form-group">
                                <label class="label">Pattern Type</label>
                                <select class="select-field" id="patternSelect" onchange="updatePatternFields()">
                                    <option value="ubiquitous">Ubiquitous</option>
                                    <option value="event-driven">Event-Driven</option>
                                    <option value="unwanted">Unwanted Behavior</option>
                                    <option value="state-driven">State-Driven</option>
                                    <option value="optional">Optional</option>
                                    <option value="complex">Complex</option>
                                </select>
                            </div>

                            <!-- Pattern Fields Container -->
                            <div id="patternFieldsContainer">
                                <!-- Ubiquitous Fields -->
                                <div id="fields-ubiquitous" class="pattern-fields">
                                    <div class="form-group">
                                        <label class="label">ì‹œìŠ¤í…œ ì‘ë‹µ</label>
                                        <input type="text" class="input-field" id="field-system-response"
                                            placeholder="ì˜ˆ: ë°ì´í„°ë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤">
                                    </div>
                                </div>

                                <!-- Event-Driven Fields -->
                                <div id="fields-event-driven" class="pattern-fields hidden">
                                    <div class="form-group">
                                        <label class="label">ì„ í–‰ ì¡°ê±´</label>
                                        <input type="text" class="input-field" id="field-precondition"
                                            placeholder="ì˜ˆ: ì‹œìŠ¤í…œì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œ">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">íŠ¸ë¦¬ê±° ì´ë²¤íŠ¸</label>
                                        <input type="text" class="input-field" id="field-trigger"
                                            placeholder="ì˜ˆ: ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">ì‹œìŠ¤í…œ ì‘ë‹µ</label>
                                        <input type="text" class="input-field" id="field-system-response-ed"
                                            placeholder="ì˜ˆ: ê²½ê³ ìŒì„ ìš¸ë ¤ì•¼ í•œë‹¤">
                                    </div>
                                </div>

                                <!-- Unwanted Behavior Fields -->
                                <div id="fields-unwanted" class="pattern-fields hidden">
                                    <div class="form-group">
                                        <label class="label">ì„ í–‰ ì¡°ê±´</label>
                                        <input type="text" class="input-field" id="field-precondition-uw"
                                            placeholder="ì˜ˆ: ì •ìƒ ì‘ë™ ì¤‘">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">ê¸ˆì§€ ë™ì‘</label>
                                        <input type="text" class="input-field" id="field-forbidden"
                                            placeholder="ì˜ˆ: ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤">
                                    </div>
                                </div>

                                <!-- State-Driven Fields -->
                                <div id="fields-state-driven" class="pattern-fields hidden">
                                    <div class="form-group">
                                        <label class="label">íŠ¹ì • ì¡°ê±´</label>
                                        <input type="text" class="input-field" id="field-condition"
                                            placeholder="ì˜ˆ: ëŒ€ê¸° ëª¨ë“œì¼ ë•Œ">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">ì‹œìŠ¤í…œ ì‘ë‹µ</label>
                                        <input type="text" class="input-field" id="field-system-response-sd"
                                            placeholder="ì˜ˆ: ì „ë ¥ ì†Œë¹„ë¥¼ ìµœì†Œí™”í•´ì•¼ í•œë‹¤">
                                    </div>
                                </div>

                                <!-- Optional Fields -->
                                <div id="fields-optional" class="pattern-fields hidden">
                                    <div class="form-group">
                                        <label class="label">ì„ íƒì  ê¸°ëŠ¥/ì¡°ê±´</label>
                                        <input type="text" class="input-field" id="field-optional-feature"
                                            placeholder="ì˜ˆ: ì‚¬ìš©ìê°€ ìš”ì²­í•˜ëŠ” ê²½ìš°">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">ì‹œìŠ¤í…œ ì‘ë‹µ</label>
                                        <input type="text" class="input-field" id="field-system-response-opt"
                                            placeholder="ì˜ˆ: ìƒì„¸ ë¡œê·¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤">
                                    </div>
                                </div>

                                <!-- Complex Fields -->
                                <div id="fields-complex" class="pattern-fields hidden">
                                    <div class="form-group">
                                        <label class="label">ì„ í–‰ ì¡°ê±´</label>
                                        <input type="text" class="input-field" id="field-precondition-cx"
                                            placeholder="ì˜ˆ: ì´ˆê¸°í™” ì™„ë£Œ í›„">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">íŠ¸ë¦¬ê±° ì´ë²¤íŠ¸</label>
                                        <input type="text" class="input-field" id="field-trigger-cx"
                                            placeholder="ì˜ˆ: ì‹ í˜¸ë¥¼ ìˆ˜ì‹ í•˜ë©´">
                                    </div>
                                    <div class="form-group">
                                        <label class="label">ì‹œìŠ¤í…œ ì‘ë‹µ</label>
                                        <input type="text" class="input-field" id="field-system-response-cx"
                                            placeholder="ì˜ˆ: ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  ê²°ê³¼ë¥¼ ì „ì†¡í•´ì•¼ í•œë‹¤">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <button class="btn btn-primary" id="btnImprove"
                                onclick="improveRequirement()">Improve</button>
                        </div>
                    </div>

                    <!-- Right: 2-Level Tab Guide -->
                    <div class="guide-container">
                        <!-- Primary Tabs -->
                        <div class="guide-tabs-primary">
                            <div class="guide-tab-primary active" onclick="switchGuidePrimaryTab('classification')">
                                <span class="guide-tab-icon">ğŸ“Š</span>
                                <span class="guide-tab-label">ìš”êµ¬ì‚¬í•­ ë¶„ë¥˜</span>
                            </div>
                            <div class="guide-tab-primary" onclick="switchGuidePrimaryTab('rules')">
                                <span class="guide-tab-icon">âœï¸</span>
                                <span class="guide-tab-label">ì‘ì„± ê·œì¹™</span>
                            </div>
                            <div class="guide-tab-primary" onclick="switchGuidePrimaryTab('quality')">
                                <span class="guide-tab-icon">âœ…</span>
                                <span class="guide-tab-label">í’ˆì§ˆ ì²´í¬</span>
                            </div>
                        </div>

                        <div class="guide-content-wrapper">
                            <!-- ===== ìš”êµ¬ì‚¬í•­ ë¶„ë¥˜ ===== -->
                            <div id="guide-primary-classification" class="guide-primary-content active">
                                <!-- Secondary Tabs -->
                                <div class="guide-tabs-secondary">
                                    <div class="guide-tab-secondary active"
                                        onclick="switchGuideSecondaryTab('classification', 'functional')">ê¸°ëŠ¥</div>
                                    <div class="guide-tab-secondary"
                                        onclick="switchGuideSecondaryTab('classification', 'quality')">í’ˆì§ˆ</div>
                                    <div class="guide-tab-secondary"
                                        onclick="switchGuideSecondaryTab('classification', 'constraints')">ì œì•½</div>
                                </div>

                                <!-- Functional Content -->
                                <div id="guide-classification-functional" class="guide-secondary-content active">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ“‹ ì •ì˜ ë° ëª©ì </div>
                                        <div class="guide-section-content">
                                            <p>ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì€ ì‹œìŠ¤í…œì´ <strong>ë¬´ì—‡ì„(What)</strong> ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê¸°ìˆ í•œë‹¤. ì…ë ¥(Input)ì— ëŒ€í•œ
                                                ì¶œë ¥(Output), ìƒíƒœ ì „ì´(State Transition), ì‹œìŠ¤í…œ ë™ì‘(Behavior) ë“±ì„ ëª…í™•íˆ ê·œì •í•˜ì—¬ ì‹œìŠ¤í…œì˜
                                                ë™ì‘ ë²”ìœ„ì™€ ê¸°ëŒ€ ê²°ê³¼ë¥¼ ì •ì˜í•œë‹¤.</p>
                                            <p><strong>ì£¼ìš” íŠ¹ì§•:</strong></p>
                                            <ul>
                                                <li>ì‹œìŠ¤í…œì´ 'ë¬´ì—‡ì„(What)' ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ì§€ ê¸°ëŠ¥ì  ë™ì‘ ì •ì˜</li>
                                                <li>ê´€ì°° ê°€ëŠ¥í•˜ê³  ì¸¡ì • ê°€ëŠ¥í•œ ë™ì‘ ì œì‹œ</li>
                                                <li>ì…ë ¥ ì¡°ê±´ê³¼ ì¶œë ¥ ê²°ê³¼ ëª…í™•í™”</li>
                                                <li>í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µí•´ ì§ì ‘ ê²€ì¦ ê°€ëŠ¥</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">âœï¸ ì‘ì„± ì›ì¹™</div>
                                        <div class="guide-section-content">
                                            <ul>
                                                <li>ì£¼ì–´ì™€ ë™ì‚¬ë¥¼ í¬í•¨í•œ ëª…í™•í•œ ë¬¸ì¥ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
                                                <li><strong>'shall'(í•´ì•¼ í•œë‹¤)</strong>ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì†ë ¥ ìˆëŠ” ìš”êµ¬ì‚¬í•­ì„ ëª…ì‹œí•œë‹¤.</li>
                                                <li>'should'(í•˜ë©´ ì¢‹ë‹¤), 'may'(í•´ë„ ëœë‹¤), 'will'(~í•  ê²ƒì´ë‹¤)ì€ ë°˜ë“œì‹œ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ì•„ë‹Œ
                                                    ê²½ìš°ì—ë§Œ ì‚¬ìš©í•œë‹¤.</li>
                                                <li>ë¶€ì •í˜•(shall not) ë° ìˆ˜ë™íƒœ(It is required that) í‘œí˜„ì€ í”¼í•œë‹¤.</li>
                                                <li>ì¸¡ì • ê°€ëŠ¥í•œ ì¡°ê±´(measurable condition)ê³¼ ê²€ì¦ ê°€ëŠ¥ì„±(verifiability)ì„ í¬í•¨í•œë‹¤.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ’¡ ì‘ì„± ì˜ˆì‹œ</div>
                                        <div class="guide-section-content">
                                            <table style="width: 100%; border-collapse: collapse; margin-top: 8px;">
                                                <thead>
                                                    <tr style="background: #F4F5F7;">
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ìš”êµ¬ì‚¬í•­ ID</th>
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ì„¤ëª…</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            FR-001</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Body CANì„ í†µí•´ í›„ì§„ ê¸°ì–´ ì‹ í˜¸ê°€ ìˆ˜ì‹ ë˜ë©´, IRCUëŠ” 100ms ì´ë‚´ì— í›„ë°© ë¨í”„ë¥¼ í™œì„±í™”í•´ì•¼
                                                            í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            FR-002</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ì°¨ëŸ‰ ì†ë„ê°€ 30 km/h ì´ìƒì´ê³  ì¡°í–¥ê°ì´ 45Â°ë¥¼ ì´ˆê³¼í•˜ë©´, IRCUëŠ” í•´ë‹¹ ë°©í–¥ì˜ ì½”ë„ˆë§ ë¨í”„ë¥¼ ì¼œì•¼
                                                            í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            FR-003</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            IRCUëŠ” ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹œ 5ì´ˆ ì´ë‚´ì— ìê°€ì§„ë‹¨ í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <!-- Quality Content -->
                                <div id="guide-classification-quality" class="guide-secondary-content">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ“‹ ì •ì˜ ë° ëª©ì </div>
                                        <div class="guide-section-content">
                                            <p>í’ˆì§ˆ ìš”êµ¬ì‚¬í•­ì€ ì‹œìŠ¤í…œì´ <strong>ì–¼ë§ˆë‚˜ ì˜(How Well)</strong> ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì •ì˜í•˜ëŠ” ë¹„ê¸°ëŠ¥
                                                ìš”êµ¬ì‚¬í•­(Non-Functional Requirements)ì´ë‹¤. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì´ "ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ê°€"ë¥¼ ì •ì˜í•œë‹¤ë©´, í’ˆì§ˆ
                                                ìš”êµ¬ì‚¬í•­ì€ "ê·¸ ê¸°ëŠ¥ì„ ì–¼ë§ˆë‚˜ ì˜ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ê°€"ë¥¼ ì •ì˜í•œë‹¤.</p>
                                            <p><strong>í’ˆì§ˆ ìš”êµ¬ì‚¬í•­ì˜ ì¤‘ìš”ì„±:</strong></p>
                                            <p>í’ˆì§ˆ ìš”êµ¬ì‚¬í•­ì´ ëª…í™•í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤:</p>
                                            <ul>
                                                <li>ì„±ëŠ¥ ëª©í‘œê°€ ë¶ˆëª…í™•í•  ê²½ìš° ì‚¬ìš©ì ê¸°ëŒ€ ë¯¸ë‹¬ ê°€ëŠ¥</li>
                                                <li>ë³´ì•ˆ ì·¨ì•½ì  ë°œìƒ ì‹œ ë°ì´í„° ìœ ì¶œ ìœ„í—˜</li>
                                                <li>ìœ ì§€ë³´ìˆ˜ ë¹„ìš© ì¦ê°€ ë° í™•ì¥ì„± ì œì•½</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ·ï¸ í’ˆì§ˆ ìš”êµ¬ì‚¬í•­ ë¶„ë¥˜</div>
                                        <div class="guide-section-content">
                                            <p style="font-size: 11px; color: #6B778C; margin-bottom: 8px;">â€» ìì„¸í•œ ë‚´ìš©ì€
                                                ISO/IEC/IEEE 25010:2022 Quality Characteristicsë¥¼ ì°¸ì¡°</p>
                                            <table
                                                style="width: 100%; border-collapse: collapse; margin-top: 8px; font-size: 11px;">
                                                <thead>
                                                    <tr style="background: #F4F5F7;">
                                                        <th
                                                            style="padding: 6px; border: 1px solid #DFE1E6; text-align: left;">
                                                            í’ˆì§ˆ ìœ í˜•</th>
                                                        <th
                                                            style="padding: 6px; border: 1px solid #DFE1E6; text-align: left;">
                                                            ì •ì˜</th>
                                                        <th
                                                            style="padding: 6px; border: 1px solid #DFE1E6; text-align: left;">
                                                            ì˜ˆì‹œ</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ê¸°ëŠ¥ ì í•©ì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ëª…ì‹œëœ ì¡°ê±´ì—ì„œ
                                                            ëª…ì‹œëœ ìš”êµ¬ë¥¼ ë§Œì¡±í•˜ëŠ” ê¸°ëŠ¥ ì œê³µ ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ADASëŠ” ì°¨ì„ ì´íƒˆ,
                                                            ì „ë°© ì¶”ëŒê²½ê³ , ê¸´ê¸‰ì œë™ ê¸°ëŠ¥ì„ ëª¨ë‘ í¬í•¨í•´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì„±ëŠ¥ íš¨ìœ¨ì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ëª…ì‹œëœ ì¡°ê±´ì—ì„œ
                                                            ì‚¬ìš©ë˜ëŠ” ìì›ì˜ ì–‘ì— ëŒ€í•œ ì„±ëŠ¥ì˜ ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ë ˆì´ë” ë°ì´í„° ì²˜ë¦¬
                                                            ì£¼ê¸°ëŠ” 100ms ì´ë‚´ì—¬ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">í˜¸í™˜ì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ë‹¤ë¥¸ ì œí’ˆ/ì‹œìŠ¤í…œê³¼
                                                            ì •ë³´ë¥¼ êµí™˜í•˜ê³  ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì°¨ëŸ‰ ECUëŠ” ISO
                                                            11898 CAN í”„ë¡œí† ì½œì„ ë”°ë¼ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì‹ ë¢°ì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">íŠ¹ì • ì¡°ê±´ì—ì„œ íŠ¹ì •
                                                            ê¸°ê°„ ë™ì•ˆ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì œì–´ ì•Œê³ ë¦¬ì¦˜ì€
                                                            100ì‹œê°„ ì—°ì† ìš´í–‰ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ë³´ì•ˆì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì •ë³´ì™€ ë°ì´í„°ê°€
                                                            ë³´í˜¸ë˜ì–´ ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼ê³¼ ë³€ê²½ì´ ê°€ëŠ¥í•œ ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì°¨ëŸ‰-ì„œë²„ í†µì‹ ì€
                                                            TLS 1.3 ì•”í˜¸í™”ë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì•ˆì „ì„±</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì¸ëª…Â·ì¬ì‚°Â·í™˜ê²½ì—
                                                            ìœ„í•´ë¥¼ ì£¼ì§€ ì•Šë„ë¡ ì„¤ê³„ëœ ì •ë„</td>
                                                        <td style="padding: 6px; border: 1px solid #DFE1E6;">ì„¼ì„œ ì˜¤ë¥˜ ë°œìƒ ì‹œ
                                                            ì°¨ëŸ‰ì€ ìë™ìœ¼ë¡œ í˜ì¼ì„¸ì´í”„ ëª¨ë“œë¡œ ì „í™˜ë˜ì–´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">âœï¸ ì‘ì„± ì›ì¹™</div>
                                        <div class="guide-section-content">
                                            <ul>
                                                <li>ìš”êµ¬ì‚¬í•­ì€ <strong>ì •ëŸ‰ì (Quantifiable)</strong> ì¡°ê±´ì„ í¬í•¨í•´ì•¼ í•œë‹¤.</li>
                                                <li>"shall"ì„ ì‚¬ìš©í•˜ì—¬ <strong>ê²€ì¦ ê°€ëŠ¥(Verifiable)</strong>í•˜ê²Œ ê¸°ìˆ í•œë‹¤.</li>
                                                <li>ì¸¡ì • ê°€ëŠ¥í•œ ì¡°ê±´(measurable condition)ê³¼ ê²€ì¦ ê°€ëŠ¥ì„±(verifiability)ì„ í¬í•¨í•œë‹¤.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ’¡ ì‘ì„± ì˜ˆì‹œ - ì„±ëŠ¥ (Performance)</div>
                                        <div class="guide-section-content">
                                            <table style="width: 100%; border-collapse: collapse; margin-top: 8px;">
                                                <thead>
                                                    <tr style="background: #F4F5F7;">
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ìš”êµ¬ì‚¬í•­ ID</th>
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ì„¤ëª…</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            QR-001-001</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ECUëŠ” ìš´ì „ìê°€ ê°€ì† í˜ë‹¬ì„ ë°Ÿì€ í›„ 100ms ì´ë‚´ì— ì—”ì§„ í† í¬ ì œì–´ ì‹ í˜¸ë¥¼ ì¶œë ¥í•´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            QR-001-002</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ECUì™€ ì„¼ì„œ ê°„ ë°ì´í„° ì†¡ìˆ˜ì‹  ì£¼ê¸°ëŠ” 50ms ì´í•˜ë¡œ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            QR-001-003</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ECU ê°„ í†µì‹  ì¥ì• ê°€ ë°œìƒí•´ë„ ì£¼í–‰ ì œì–´ ê¸°ëŠ¥ì€ ê¸°ë³¸ ëª¨ë“œë¡œ 1ì´ˆ ì´ë‚´ ë³µêµ¬ë˜ì–´ì•¼ í•œë‹¤.</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <!-- Constraints Content -->
                                <div id="guide-classification-constraints" class="guide-secondary-content">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ“‹ ì •ì˜ ë° ëª©ì </div>
                                        <div class="guide-section-content">
                                            <p>ì‹œìŠ¤í…œ ìì²´, ê·¸ ì„¤ê³„ ë˜ëŠ” êµ¬í˜„, í˜¹ì€ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì— <strong>ì™¸ë¶€ì ìœ¼ë¡œ ë¶€ê³¼ëœ
                                                    ì œí•œì‚¬í•­</strong>ì„ ì˜ë¯¸í•œë‹¤. ì¦‰, ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ëŠ”ì§€ë¥¼ ì™¸ë¶€ ìš”ì¸ì— ì˜í•´ ê°•ì œë¡œ ì œí•œí•˜ê±°ë‚˜ ê·œì •í•˜ëŠ”
                                                ì¡°ê±´ì´ë‹¤.</p>
                                            <p><strong>ëª©ì :</strong></p>
                                            <ul>
                                                <li>ì„¤ê³„ì˜ ììœ ë„ë¥¼ ì œí•œí•˜ì—¬ ì‹œìŠ¤í…œ ê°œë°œì˜ ë°©í–¥ì„±ì„ ëª…í™•íˆ í•¨</li>
                                                <li>ë²•ì , ê¸°ìˆ ì , ê´€ë¦¬ì  ìš”ê±´ì˜ ì¤€ìˆ˜ë¥¼ ë³´ì¥í•¨</li>
                                                <li>í”„ë¡œì íŠ¸, ë¹„ì¦ˆë‹ˆìŠ¤, ìš´ì˜ ë‹¨ê³„ì—ì„œ ë°œìƒ ê°€ëŠ¥í•œ ë¦¬ìŠ¤í¬ë¥¼ ì˜ˆë°©í•¨</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ” ì œì•½ì‚¬í•­ íŠ¹ì§•</div>
                                        <div class="guide-section-content">
                                            <ul>
                                                <li><strong>ì™¸ë¶€ ìš”ì¸ì— ì˜í•´ ë¶€ê³¼ë¨:</strong> ì œì•½ì‚¬í•­ì€ ê°œë°œì ë‚´ë¶€ ê²°ì •ì´ ì•„ë‹Œ, ë²•ê·œÂ·í‘œì¤€Â·ê³„ì•½Â·ì •ì±…Â·ê¸°ìˆ 
                                                    í™˜ê²½ ë“± ì™¸ë¶€ ìš”êµ¬ë¡œë¶€í„° ë°œìƒí•œë‹¤.</li>
                                                <li><strong>ì„¤ê³„ì˜ ììœ ë„ ì œí•œ:</strong> ì‹œìŠ¤í…œì´ ì‚¬ìš©í•  ê¸°ìˆ , ë°©ë²•, ì ˆì°¨ë¥¼ ëª…ì‹œí•¨ìœ¼ë¡œì¨ ì„¤ê³„ ë° êµ¬í˜„ì˜ ì„ íƒ
                                                    ë²”ìœ„ë¥¼ ì œí•œí•œë‹¤.</li>
                                                <li><strong>ê·¼ê±° ê¸°ë°˜ ìš”êµ¬ì‚¬í•­:</strong> ê° ì œì•½ì€ ë°˜ë“œì‹œ ê·¼ê±°(Source)ë¥¼ ê°€ì ¸ì•¼ í•˜ë©°,
                                                    ë²•ê·œÂ·í‘œì¤€Â·ê³„ì•½Â·ê³ ê° ìš”êµ¬ ë“±ìœ¼ë¡œë¶€í„° ë„ì¶œëœë‹¤.</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ·ï¸ ì œì•½ì‚¬í•­ ìœ í˜•</div>
                                        <div class="guide-section-content">
                                            <table style="width: 100%; border-collapse: collapse; margin-top: 8px;">
                                                <thead>
                                                    <tr style="background: #F4F5F7;">
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ì œì•½ ìœ í˜•</th>
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ë‚´ìš©</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Business Operational Constraints</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œ ì‹œìŠ¤í…œ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰ì— ì¡°ì§ì Â·ë²•ì Â·ê´€ë¦¬ì  ì œì•½ì„ ë¶€ê³¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Project Constraints</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            í”„ë¡œì íŠ¸ ìˆ˜í–‰ê³¼ ê´€ë ¨ëœ ê¸°ìˆ ì , ì ˆì°¨ì , ì¼ì •ì  ì œì•½ì„ í¬í•¨í•˜ë©° ê°œë°œÂ·ê²€ì¦Â·í’ˆì§ˆë³´ì¦ í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ ë°©ì‹ì„
                                                            ì œí•œí•˜ëŠ” ìš”êµ¬ì‚¬í•­</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Operational Constraints</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ì‹œìŠ¤í…œì´ ì‹¤ì œ í™˜ê²½ì—ì„œ ìš´ì˜ë  ë•Œ ë§Œì¡±í•´ì•¼ í•˜ëŠ” ê¸°ìˆ ì Â·ì„±ëŠ¥ì  ì¡°ê±´ì„ ì •ì˜í•œ ìš”êµ¬ì‚¬í•­</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ’¡ ì‘ì„± ì˜ˆì‹œ</div>
                                        <div class="guide-section-content">
                                            <table style="width: 100%; border-collapse: collapse; margin-top: 8px;">
                                                <thead>
                                                    <tr style="background: #F4F5F7;">
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ìš”êµ¬ì‚¬í•­ ID</th>
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ì„¤ëª…</th>
                                                        <th
                                                            style="padding: 8px; border: 1px solid #DFE1E6; text-align: left; font-size: 12px;">
                                                            ì œì•½ì‚¬í•­ ìœ í˜•</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            CON-001</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            CE ì¸ì¦ ë° EMC ê·œê²©ì„ ì¤€ìˆ˜í•´ì•¼ í•œë‹¤.</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Business Operational</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            CON-002</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            C++17, AUTOSAR Adaptive ê¸°ë°˜ìœ¼ë¡œ ê°œë°œí•´ì•¼ í•œë‹¤.</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Project</td>
                                                    </tr>
                                                    <tr>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            CON-003</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            ì˜¨ë„ -40Â°C~85Â°Cì—ì„œ ì •ìƒ ë™ì‘í•´ì•¼ í•œë‹¤.</td>
                                                        <td
                                                            style="padding: 8px; border: 1px solid #DFE1E6; font-size: 12px;">
                                                            Operational</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ===== ì‘ì„± ê·œì¹™ ===== -->
                            <div id="guide-primary-rules" class="guide-primary-content">
                                <div class="guide-tabs-secondary">
                                    <div class="guide-tab-secondary active"
                                        onclick="switchGuideSecondaryTab('rules', 'ears')">EARS íŒ¨í„´</div>
                                    <div class="guide-tab-secondary"
                                        onclick="switchGuideSecondaryTab('rules', 'principles')">ì‘ì„± ì›ì¹™</div>
                                </div>

                                <div id="guide-rules-ears" class="guide-secondary-content active">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ“ Ubiquitous</div>
                                        <div class="guide-section-content">
                                            <p>[ì—¬ê¸°ì— Ubiquitous íŒ¨í„´ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤]</p>
                                        </div>
                                    </div>
                                </div>

                                <div id="guide-rules-principles" class="guide-secondary-content">
                                    <div class="guide-section">
                                        <div class="guide-section-title">âœï¸ Necessary (í•„ìˆ˜ì„±)</div>
                                        <div class="guide-section-content">
                                            <p>[ì—¬ê¸°ì— í•„ìˆ˜ì„± ì›ì¹™ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤]</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ===== í’ˆì§ˆ ì²´í¬ ===== -->
                            <div id="guide-primary-quality" class="guide-primary-content">
                                <div class="guide-tabs-secondary">
                                    <div class="guide-tab-secondary active"
                                        onclick="switchGuideSecondaryTab('quality', 'characteristics')">íŠ¹ì„± C1-C15
                                    </div>
                                    <div class="guide-tab-secondary"
                                        onclick="switchGuideSecondaryTab('quality', 'writing-rules')">ê·œì¹™ R1-R42
                                    </div>
                                    <div class="guide-tab-secondary"
                                        onclick="switchGuideSecondaryTab('quality', 'pattern-elements')">ìš”ì†Œ P1-P7
                                    </div>
                                </div>

                                <div id="guide-quality-characteristics" class="guide-secondary-content active">
                                    <div class="guide-section">
                                        <div class="guide-section-title">âœ… C1: Necessary</div>
                                        <div class="guide-section-content">
                                            <p>[ì—¬ê¸°ì— C1 íŠ¹ì„± ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤]</p>
                                        </div>
                                    </div>
                                </div>

                                <div id="guide-quality-writing-rules" class="guide-secondary-content">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ“‹ R2: ëŠ¥ë™í˜• ë¬¸ì¥</div>
                                        <div class="guide-section-content">
                                            <p>[ì—¬ê¸°ì— R2 ê·œì¹™ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤]</p>
                                        </div>
                                    </div>
                                </div>

                                <div id="guide-quality-pattern-elements" class="guide-secondary-content">
                                    <div class="guide-section">
                                        <div class="guide-section-title">ğŸ”§ P1: ì£¼ì–´ (Entity)</div>
                                        <div class="guide-section-content">
                                            <p>[ì—¬ê¸°ì— P1 ìš”ì†Œ ì„¤ëª…ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤]</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loading -->
                <div id="loadingSection" class="hidden" style="text-align: center; padding: 40px;">
                    <div class="loading-spinner"></div>
                    <p style="color: #5E6C84; font-size: 14px;">AI is analyzing...</p>
                </div>

                <!-- Results -->
                <div id="resultSection" class="hidden">
                    <!-- Section 1: Score Comparison (2-column) -->
                    <h2
                        style="font-size: 18px; margin-bottom: 20px; padding: 12px 16px; background: #0052CC; color: white; border-radius: 4px; font-weight: 600;">
                        í’ˆì§ˆ ì ìˆ˜ ë¹„êµ</h2>
                    <div class="grid-2" style="margin-bottom: 40px;">
                        <!-- Original Panel -->
                        <div class="score-panel original">
                            <div class="score-total">
                                <div class="score-number" id="scoreOriginalTotal">0 / 320</div>
                                <div class="score-percent" id="scoreOriginalPercent">0%</div>
                            </div>
                            <div id="categoryScoresOriginal">
                                <!-- Dynamic category scores -->
                            </div>
                        </div>

                        <!-- Improved Panel -->
                        <div class="score-panel improved">
                            <div class="score-total">
                                <div class="score-number" id="scoreImprovedTotal">0 / 320</div>
                                <div class="score-percent" id="scoreImprovedPercent">0%</div>
                                <div class="score-delta" id="scoreDeltaText">+0ì  (+0%)</div>
                            </div>
                            <div id="categoryScoresImproved">
                                <!-- Dynamic category scores -->
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Detailed Score Table -->
                    <h2
                        style="font-size: 18px; margin-bottom: 20px; padding: 12px 16px; background: #0052CC; color: white; border-radius: 4px; font-weight: 600;">
                        ìƒì„¸ ì ìˆ˜ ë¹„êµ</h2>
                    <div class="score-table-container" style="margin-bottom: 40px;">
                        <table class="score-table">
                            <thead>
                                <tr>
                                    <th>ê·œì¹™</th>
                                    <th>ì›ë³¸</th>
                                    <th>ê°œì„ </th>
                                    <th>ë³€í™”</th>
                                </tr>
                            </thead>
                            <tbody id="detailedScoreTableBody">
                                <!-- Dynamic rows -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Section 3: Improved Requirements Cards -->
                    <h2
                        style="font-size: 18px; margin-bottom: 20px; padding: 12px 16px; background: #0052CC; color: white; border-radius: 4px; font-weight: 600;">
                        ê°œì„ ëœ ìš”êµ¬ì‚¬í•­</h2>
                    <div id="requirementCardsContainer" style="margin-bottom: 40px;">
                        <!-- Dynamic requirement cards -->
                    </div>

                    <!-- Section 4: Key Improvements -->
                    <h2
                        style="font-size: 18px; margin-bottom: 20px; padding: 12px 16px; background: #0052CC; color: white; border-radius: 4px; font-weight: 600;">
                        ì£¼ìš” ê°œì„  ì‚¬í•­</h2>
                    <div id="keyImprovementsList">
                        <!-- Dynamic improvements -->
                    </div>


                    <!-- Section 6: Additional Recommendations -->
                    <h2
                        style="font-size: 18px; margin-bottom: 20px; padding: 12px 16px; background: #6554C0; color: white; border-radius: 4px; font-weight: 600; margin-top: 40px;">
                        ì¶”ê°€ ê°œì„  ê¶Œì¥ì‚¬í•­</h2>
                    <div id="recommendationsList">
                        <!-- Dynamic recommendations -->
                    </div>
                </div>
            </div>
        </div>

        <!-- View: History (Placeholder) -->
        <div id="view-history" class="view-section">
            <div class="page-header">
                <div class="breadcrumbs">Pages / History</div>
                <h1 class="page-title">Requirement History</h1>
            </div>
            <div class="page-body">
                <div class="panel" style="text-align: center; padding: 60px;">
                    <span style="font-size: 48px; display: block; margin-bottom: 20px;">ğŸ•’</span>
                    <h2 style="color: #172B4D; margin-bottom: 12px;">ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤</h2>
                    <p style="color: #5E6C84;">ë¶„ì„ëœ ìš”êµ¬ì‚¬í•­ì˜ íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>

        <!-- View: Settings -->
        <div id="view-settings" class="view-section">
            <div class="page-header">
                <div class="breadcrumbs">Pages / Configuration</div>
                <h1 class="page-title">Settings</h1>
            </div>
            <div class="page-body">
                <div class="form-group">
                    <label class="label">AI Provider</label>
                    <select class="select-field" id="providerSelect" onchange="toggleApiKeyInputs()">
                        <option value="openai">OpenAI (GPT-4o mini)</option>
                        <option value="gemini">Google Gemini</option>
                        <option value="claude">Anthropic Claude</option>
                    </select>
                </div>

                <!-- OpenAI Inputs (URL + Key) -->
                <div id="openaiInputGroup" class="form-group">
                    <label class="label">API URL</label>
                    <input type="text" class="input-field" id="openaiUrlInput" placeholder="API URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                    <label class="label" style="margin-top: 10px;">API Key</label>
                    <input type="password" class="input-field" id="openaiKeyInput" placeholder="API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                </div>

                <!-- Gemini Inputs (URL + Key) -->
                <div id="geminiInputGroup" class="form-group hidden">
                    <label class="label">API URL</label>
                    <input type="text" class="input-field" id="geminiUrlInput" placeholder="API URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                    <label class="label" style="margin-top: 10px;">API Key</label>
                    <input type="password" class="input-field" id="geminiKeyInput" placeholder="API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                </div>

                <!-- Claude Inputs (URL + Key) -->
                <div id="claudeInputGroup" class="form-group hidden">
                    <label class="label">API URL</label>
                    <input type="text" class="input-field" id="claudeUrlInput" placeholder="API URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                    <label class="label" style="margin-top: 10px;">API Key</label>
                    <input type="password" class="input-field" id="claudeKeyInput" placeholder="API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                </div>

                <!-- API Save/Reset Buttons -->
                <div class="form-group" style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" onclick="saveApiConfig()" style="flex: 1;">Save API Key &
                        Use</button>
                    <button class="btn btn-secondary" onclick="resetApiConfig()" style="flex: 1;">Reset API Key</button>
                </div>

                <!-- Project Settings -->
                <div class="form-group" style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #DFE1E6;">
                    <h3 style="font-size: 16px; margin-bottom: 10px; color: #172B4D;">í”„ë¡œì íŠ¸ ì„¤ì •</h3>
                    <p style="font-size: 12px; color: #6B778C; margin-bottom: 15px;">ì…ë ¥ ì‹œ AI ì¶”ë¡  ì •í™•ë„ê°€ í–¥ìƒë©ë‹ˆë‹¤</p>

                    <label class="label">ë‹´ë‹¹ì (í˜‘ë ¥ì‚¬)</label>
                    <input type="text" class="input-field" id="projectDeveloper" placeholder="ì˜ˆ: ê°œë°œíŒ€, ë‹´ë‹¹ë¶€ì„œ">

                    <label class="label" style="margin-top: 10px;">System (ì œì–´ê¸°ëª…)</label>
                    <input type="text" class="input-field" id="projectSystem" placeholder="ì˜ˆ: ooo ì‹œìŠ¤í…œ, ECU">

                    <label class="label" style="margin-top: 10px;">ì‚¬ì–‘ ë‹´ë‹¹ì</label>
                    <input type="text" class="input-field" id="projectClient" placeholder="ì˜ˆ: ì„¤ê³„íŒ€, OOO íšŒì‚¬">
                </div>

                <div class="form-group" style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="saveProjectConfig()" style="flex: 1;">Save Project
                        Settings</button>
                    <button class="btn btn-secondary" onclick="resetProjectConfig()" style="flex: 1;">Reset Project
                        Settings</button>
                </div>

                <div id="apiStatus" class="panel panel-warning" style="margin-top: 10px;">
                    <span class="panel-icon">âš ï¸</span>
                    <div>Please configure your API keys to use the application.</div>
                </div>
            </div>
        </div>

    </div>

    </div>

    <script>
        // Guide 1ì°¨ íƒ­ ì „í™˜
        function switchGuidePrimaryTab(tabName) {
            const container = document.querySelector('.guide-container');
            // ëª¨ë“  1ì°¨ íƒ­ ë¹„í™œì„±í™”
            container.querySelectorAll('.guide-tab-primary').forEach(tab => {
                tab.classList.remove('active');
            });
            // ëª¨ë“  1ì°¨ ì»¨í…ì¸  ìˆ¨ê¹€
            container.querySelectorAll('.guide-primary-content').forEach(content => {
                content.classList.remove('active');
            });

            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.currentTarget.classList.add('active');
            // í•´ë‹¹ ì»¨í…ì¸  í‘œì‹œ
            document.getElementById('guide-primary-' + tabName).classList.add('active');
        }

        // Guide 2ì°¨ íƒ­ ì „í™˜
        function switchGuideSecondaryTab(primary, secondary) {
            const parentId = 'guide-primary-' + primary;
            const parent = document.getElementById(parentId);

            // í•´ë‹¹ ë¶€ëª¨ì˜ ëª¨ë“  2ì°¨ íƒ­ ë¹„í™œì„±í™”
            parent.querySelectorAll('.guide-tab-secondary').forEach(tab => {
                tab.classList.remove('active');
            });
            // í•´ë‹¹ ë¶€ëª¨ì˜ ëª¨ë“  2ì°¨ ì»¨í…ì¸  ìˆ¨ê¹€
            parent.querySelectorAll('.guide-secondary-content').forEach(content => {
                content.classList.remove('active');
            });

            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.currentTarget.classList.add('active');
            // í•´ë‹¹ ì»¨í…ì¸  í‘œì‹œ
            const contentId = 'guide-' + primary + '-' + secondary;
            document.getElementById(contentId).classList.add('active');
        }
    </script>
    <script src="renderer.js"></script>
</body>

</html>